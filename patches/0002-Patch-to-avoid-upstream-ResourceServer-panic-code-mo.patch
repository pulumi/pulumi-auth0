From 674eeedaf4dd11c5936c347d2edc766f7256c58f Mon Sep 17 00:00:00 2001
From: Thomas Kappler <tkappler@pulumi.com>
Date: Fri, 29 Sep 2023 07:52:53 +0200
Subject: [PATCH 2/2] Patch to avoid upstream ResourceServer panic: code moved

---
 internal/auth0/resourceserver/expand.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/internal/auth0/resourceserver/expand.go b/internal/auth0/resourceserver/expand.go
index ee1e6e97..5b1c23fa 100644
--- a/internal/auth0/resourceserver/expand.go
+++ b/internal/auth0/resourceserver/expand.go
@@ -56,5 +56,6 @@ func resourceServerIsAuth0ManagementAPI(state cty.Value) bool {
 		return false
 	}
 
-	return state.GetAttr("name").AsString() == auth0ManagementAPIName
+	name := state.GetAttr("name")
+	return !name.IsNull() && name.AsString() == auth0ManagementAPIName
 }
-- 
2.39.3 (Apple Git-145)

