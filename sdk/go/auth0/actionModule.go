// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package auth0

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-auth0/sdk/v3/go/auth0/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Action Modules are reusable code packages that can be shared across multiple actions. They allow you to write common functionality once and use it in any action that needs it.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-auth0/sdk/v3/go/auth0"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := auth0.NewActionModule(ctx, "my_module", &auth0.ActionModuleArgs{
//				Name: pulumi.String("My Shared Module"),
//				Code: pulumi.String(`/**
//	 * A shared utility function that can be used across multiple actions.
//	 */
//
//	module.exports = {
//	  greet: function(name) {
//	    return \"Hello, \" + name + \"!\";
//	  },
//	  formatDate: function(date) {
//	    return date.toISOString();
//	  }
//	};
//
// `),
//
//				Dependencies: auth0.ActionModuleDependencyArray{
//					&auth0.ActionModuleDependencyArgs{
//						Name:    pulumi.String("lodash"),
//						Version: pulumi.String("4.17.21"),
//					},
//				},
//				Secrets: auth0.ActionModuleSecretArray{
//					&auth0.ActionModuleSecretArgs{
//						Name:  pulumi.String("API_KEY"),
//						Value: pulumi.String("my-secret-api-key"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type ActionModule struct {
	pulumi.CustomResourceState

	// The number of deployed actions using this module.
	ActionsUsingModuleTotal pulumi.IntOutput `pulumi:"actionsUsingModuleTotal"`
	// Whether all draft changes have been published as a version.
	AllChangesPublished pulumi.BoolOutput `pulumi:"allChangesPublished"`
	// The source code of the action module.
	Code pulumi.StringOutput `pulumi:"code"`
	// List of third party npm modules, and their versions, that this action module depends on.
	Dependencies ActionModuleDependencyArrayOutput `pulumi:"dependencies"`
	// The version number of the latest published version.
	LatestVersionNumber pulumi.IntOutput `pulumi:"latestVersionNumber"`
	// The latest published version of the action module.
	LatestVersions ActionModuleLatestVersionArrayOutput `pulumi:"latestVersions"`
	// The name of the action module.
	Name pulumi.StringOutput `pulumi:"name"`
	// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
	Publish pulumi.BoolPtrOutput `pulumi:"publish"`
	// List of secrets that are included in the action module. Partial management of secrets is not supported.
	Secrets ActionModuleSecretArrayOutput `pulumi:"secrets"`
	// Version ID of the module. This value is available if `publish` is set to true.
	VersionId pulumi.StringOutput `pulumi:"versionId"`
}

// NewActionModule registers a new resource with the given unique name, arguments, and options.
func NewActionModule(ctx *pulumi.Context,
	name string, args *ActionModuleArgs, opts ...pulumi.ResourceOption) (*ActionModule, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Code == nil {
		return nil, errors.New("invalid value for required argument 'Code'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ActionModule
	err := ctx.RegisterResource("auth0:index/actionModule:ActionModule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetActionModule gets an existing ActionModule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetActionModule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ActionModuleState, opts ...pulumi.ResourceOption) (*ActionModule, error) {
	var resource ActionModule
	err := ctx.ReadResource("auth0:index/actionModule:ActionModule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ActionModule resources.
type actionModuleState struct {
	// The number of deployed actions using this module.
	ActionsUsingModuleTotal *int `pulumi:"actionsUsingModuleTotal"`
	// Whether all draft changes have been published as a version.
	AllChangesPublished *bool `pulumi:"allChangesPublished"`
	// The source code of the action module.
	Code *string `pulumi:"code"`
	// List of third party npm modules, and their versions, that this action module depends on.
	Dependencies []ActionModuleDependency `pulumi:"dependencies"`
	// The version number of the latest published version.
	LatestVersionNumber *int `pulumi:"latestVersionNumber"`
	// The latest published version of the action module.
	LatestVersions []ActionModuleLatestVersion `pulumi:"latestVersions"`
	// The name of the action module.
	Name *string `pulumi:"name"`
	// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
	Publish *bool `pulumi:"publish"`
	// List of secrets that are included in the action module. Partial management of secrets is not supported.
	Secrets []ActionModuleSecret `pulumi:"secrets"`
	// Version ID of the module. This value is available if `publish` is set to true.
	VersionId *string `pulumi:"versionId"`
}

type ActionModuleState struct {
	// The number of deployed actions using this module.
	ActionsUsingModuleTotal pulumi.IntPtrInput
	// Whether all draft changes have been published as a version.
	AllChangesPublished pulumi.BoolPtrInput
	// The source code of the action module.
	Code pulumi.StringPtrInput
	// List of third party npm modules, and their versions, that this action module depends on.
	Dependencies ActionModuleDependencyArrayInput
	// The version number of the latest published version.
	LatestVersionNumber pulumi.IntPtrInput
	// The latest published version of the action module.
	LatestVersions ActionModuleLatestVersionArrayInput
	// The name of the action module.
	Name pulumi.StringPtrInput
	// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
	Publish pulumi.BoolPtrInput
	// List of secrets that are included in the action module. Partial management of secrets is not supported.
	Secrets ActionModuleSecretArrayInput
	// Version ID of the module. This value is available if `publish` is set to true.
	VersionId pulumi.StringPtrInput
}

func (ActionModuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*actionModuleState)(nil)).Elem()
}

type actionModuleArgs struct {
	// The source code of the action module.
	Code string `pulumi:"code"`
	// List of third party npm modules, and their versions, that this action module depends on.
	Dependencies []ActionModuleDependency `pulumi:"dependencies"`
	// The name of the action module.
	Name *string `pulumi:"name"`
	// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
	Publish *bool `pulumi:"publish"`
	// List of secrets that are included in the action module. Partial management of secrets is not supported.
	Secrets []ActionModuleSecret `pulumi:"secrets"`
}

// The set of arguments for constructing a ActionModule resource.
type ActionModuleArgs struct {
	// The source code of the action module.
	Code pulumi.StringInput
	// List of third party npm modules, and their versions, that this action module depends on.
	Dependencies ActionModuleDependencyArrayInput
	// The name of the action module.
	Name pulumi.StringPtrInput
	// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
	Publish pulumi.BoolPtrInput
	// List of secrets that are included in the action module. Partial management of secrets is not supported.
	Secrets ActionModuleSecretArrayInput
}

func (ActionModuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*actionModuleArgs)(nil)).Elem()
}

type ActionModuleInput interface {
	pulumi.Input

	ToActionModuleOutput() ActionModuleOutput
	ToActionModuleOutputWithContext(ctx context.Context) ActionModuleOutput
}

func (*ActionModule) ElementType() reflect.Type {
	return reflect.TypeOf((**ActionModule)(nil)).Elem()
}

func (i *ActionModule) ToActionModuleOutput() ActionModuleOutput {
	return i.ToActionModuleOutputWithContext(context.Background())
}

func (i *ActionModule) ToActionModuleOutputWithContext(ctx context.Context) ActionModuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ActionModuleOutput)
}

// ActionModuleArrayInput is an input type that accepts ActionModuleArray and ActionModuleArrayOutput values.
// You can construct a concrete instance of `ActionModuleArrayInput` via:
//
//	ActionModuleArray{ ActionModuleArgs{...} }
type ActionModuleArrayInput interface {
	pulumi.Input

	ToActionModuleArrayOutput() ActionModuleArrayOutput
	ToActionModuleArrayOutputWithContext(context.Context) ActionModuleArrayOutput
}

type ActionModuleArray []ActionModuleInput

func (ActionModuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ActionModule)(nil)).Elem()
}

func (i ActionModuleArray) ToActionModuleArrayOutput() ActionModuleArrayOutput {
	return i.ToActionModuleArrayOutputWithContext(context.Background())
}

func (i ActionModuleArray) ToActionModuleArrayOutputWithContext(ctx context.Context) ActionModuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ActionModuleArrayOutput)
}

// ActionModuleMapInput is an input type that accepts ActionModuleMap and ActionModuleMapOutput values.
// You can construct a concrete instance of `ActionModuleMapInput` via:
//
//	ActionModuleMap{ "key": ActionModuleArgs{...} }
type ActionModuleMapInput interface {
	pulumi.Input

	ToActionModuleMapOutput() ActionModuleMapOutput
	ToActionModuleMapOutputWithContext(context.Context) ActionModuleMapOutput
}

type ActionModuleMap map[string]ActionModuleInput

func (ActionModuleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ActionModule)(nil)).Elem()
}

func (i ActionModuleMap) ToActionModuleMapOutput() ActionModuleMapOutput {
	return i.ToActionModuleMapOutputWithContext(context.Background())
}

func (i ActionModuleMap) ToActionModuleMapOutputWithContext(ctx context.Context) ActionModuleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ActionModuleMapOutput)
}

type ActionModuleOutput struct{ *pulumi.OutputState }

func (ActionModuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ActionModule)(nil)).Elem()
}

func (o ActionModuleOutput) ToActionModuleOutput() ActionModuleOutput {
	return o
}

func (o ActionModuleOutput) ToActionModuleOutputWithContext(ctx context.Context) ActionModuleOutput {
	return o
}

// The number of deployed actions using this module.
func (o ActionModuleOutput) ActionsUsingModuleTotal() pulumi.IntOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.IntOutput { return v.ActionsUsingModuleTotal }).(pulumi.IntOutput)
}

// Whether all draft changes have been published as a version.
func (o ActionModuleOutput) AllChangesPublished() pulumi.BoolOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.BoolOutput { return v.AllChangesPublished }).(pulumi.BoolOutput)
}

// The source code of the action module.
func (o ActionModuleOutput) Code() pulumi.StringOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.StringOutput { return v.Code }).(pulumi.StringOutput)
}

// List of third party npm modules, and their versions, that this action module depends on.
func (o ActionModuleOutput) Dependencies() ActionModuleDependencyArrayOutput {
	return o.ApplyT(func(v *ActionModule) ActionModuleDependencyArrayOutput { return v.Dependencies }).(ActionModuleDependencyArrayOutput)
}

// The version number of the latest published version.
func (o ActionModuleOutput) LatestVersionNumber() pulumi.IntOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.IntOutput { return v.LatestVersionNumber }).(pulumi.IntOutput)
}

// The latest published version of the action module.
func (o ActionModuleOutput) LatestVersions() ActionModuleLatestVersionArrayOutput {
	return o.ApplyT(func(v *ActionModule) ActionModuleLatestVersionArrayOutput { return v.LatestVersions }).(ActionModuleLatestVersionArrayOutput)
}

// The name of the action module.
func (o ActionModuleOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Publishing a module will create a new immutable version of the module from the current draft. Actions using this module can then reference the published version.
func (o ActionModuleOutput) Publish() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.BoolPtrOutput { return v.Publish }).(pulumi.BoolPtrOutput)
}

// List of secrets that are included in the action module. Partial management of secrets is not supported.
func (o ActionModuleOutput) Secrets() ActionModuleSecretArrayOutput {
	return o.ApplyT(func(v *ActionModule) ActionModuleSecretArrayOutput { return v.Secrets }).(ActionModuleSecretArrayOutput)
}

// Version ID of the module. This value is available if `publish` is set to true.
func (o ActionModuleOutput) VersionId() pulumi.StringOutput {
	return o.ApplyT(func(v *ActionModule) pulumi.StringOutput { return v.VersionId }).(pulumi.StringOutput)
}

type ActionModuleArrayOutput struct{ *pulumi.OutputState }

func (ActionModuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ActionModule)(nil)).Elem()
}

func (o ActionModuleArrayOutput) ToActionModuleArrayOutput() ActionModuleArrayOutput {
	return o
}

func (o ActionModuleArrayOutput) ToActionModuleArrayOutputWithContext(ctx context.Context) ActionModuleArrayOutput {
	return o
}

func (o ActionModuleArrayOutput) Index(i pulumi.IntInput) ActionModuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ActionModule {
		return vs[0].([]*ActionModule)[vs[1].(int)]
	}).(ActionModuleOutput)
}

type ActionModuleMapOutput struct{ *pulumi.OutputState }

func (ActionModuleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ActionModule)(nil)).Elem()
}

func (o ActionModuleMapOutput) ToActionModuleMapOutput() ActionModuleMapOutput {
	return o
}

func (o ActionModuleMapOutput) ToActionModuleMapOutputWithContext(ctx context.Context) ActionModuleMapOutput {
	return o
}

func (o ActionModuleMapOutput) MapIndex(k pulumi.StringInput) ActionModuleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ActionModule {
		return vs[0].(map[string]*ActionModule)[vs[1].(string)]
	}).(ActionModuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ActionModuleInput)(nil)).Elem(), &ActionModule{})
	pulumi.RegisterInputType(reflect.TypeOf((*ActionModuleArrayInput)(nil)).Elem(), ActionModuleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ActionModuleMapInput)(nil)).Elem(), ActionModuleMap{})
	pulumi.RegisterOutputType(ActionModuleOutput{})
	pulumi.RegisterOutputType(ActionModuleArrayOutput{})
	pulumi.RegisterOutputType(ActionModuleMapOutput{})
}
